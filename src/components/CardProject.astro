---
export interface Props {
  title: string;
  summary: string;
  stack: string[];
  href?: string;
  featured?: boolean;
}

const { title, summary, stack, href, featured = false } = Astro.props;
const Component = href ? "a" : "div";
---

<Component
  href={href}
  class={`block p-6 rounded-cozy border border-muted/20 transition-all duration-200 hover:shadow-soft hover:border-accent/30 ${
    featured ? "bg-accent/5 border-accent/20" : "bg-panel/50"
  } ${href ? "hover:scale-[1.02]" : ""}`}
>
  <div class="mb-3">
    <h3 class="text-lg font-semibold text-heading">{title}</h3>
  </div>

  <p class="text-text mb-4 leading-relaxed">{summary}</p>

  {
    stack.length > 0 && (
      <div class="flex flex-wrap gap-2">
        {stack.map((tech) => (
          <span class="px-2 py-1 text-xs font-medium bg-muted/10 text-muted rounded-md">
            {tech}
          </span>
        ))}
      </div>
    )
  }

  {
    featured && (
      <div class="mt-4 pt-4 border-t border-accent/20">
        <span class="text-xs font-medium text-accent uppercase tracking-wide">
          Featured
        </span>
      </div>
    )
  }
</Component>
